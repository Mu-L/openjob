import{u as z}from"./vue-i18n.cjs.2a00fe88.js";import{u as T}from"./index.bffb3718.js";import{a as g}from"./formatTime.b2c6dda0.js";import{h as b,K as x,o as C,a9 as p,ac as k,j as i,k as B,l as N,y as A,v as u,x as d,D as l,u as o,B as _,C as v}from"./vue.bd0669ce.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.35101cd5.js";import"./request.554ad02f.js";import"./storage.b628b270.js";import"./index.23ad033a.js";import"./index.aa7cec2e.js";import"./themeConfig.cb88f033.js";import"./index.f64fca3a.js";import"./index.e8f4f9cf.js";import"./index.ee56f1f7.js";const V={class:"system-role-container layout-padding"},j={class:"system-role-padding layout-padding-auto layout-padding-view"},E=b({name:"systemRole"}),H=b({...E,setup(U){const{t}=z(),f=T(),e=x({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:20}}}),m=async()=>{e.tableData.loading=!0;let s=await f.getSlotsList({page:e.tableData.param.pageNum,size:e.tableData.param.pageSize});e.tableData.data=[],s.list.forEach(function(a){e.tableData.data.push({id:a.id,serverId:a.serverId,serverAddress:a.akkaAddress,serverStatus:a.serverStatus,createTime:g(a.createTime),updateTime:g(a.updateTime)})}),e.tableData.total=s.total,setTimeout(()=>{e.tableData.loading=!1},500)},D=s=>{e.tableData.param.pageSize=s,m()},w=s=>{e.tableData.param.pageNum=s,m()};return C(()=>{m()}),(s,a)=>{const r=p("el-table-column"),c=p("el-tag"),y=p("el-table"),h=p("el-pagination"),S=k("loading");return i(),B("div",V,[N("div",j,[A((i(),u(y,{data:e.tableData.data,style:{width:"100%"}},{default:d(()=>[l(r,{prop:"id",label:o(t)("message.server.slots.id"),"show-overflow-tooltip":""},null,8,["label"]),l(r,{prop:"serverId",label:o(t)("message.server.slots.serverId"),"show-overflow-tooltip":""},null,8,["label"]),l(r,{prop:"serverAddress",label:o(t)("message.server.slots.serverAddress"),"show-overflow-tooltip":""},null,8,["label"]),l(r,{prop:"serverStatus",label:o(t)("message.server.slots.serverStatus"),"show-overflow-tooltip":""},{default:d(n=>[n.row.serverStatus?(i(),u(c,{key:0,type:"success"},{default:d(()=>[_(v(o(t)("message.commonBtn.online")),1)]),_:1})):(i(),u(c,{key:1,type:"info"},{default:d(()=>[_(v(o(t)("message.commonBtn.offline")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"createTime",label:o(t)("message.server.slots.createTime"),"show-overflow-tooltip":""},null,8,["label"]),l(r,{prop:"updateTime",label:o(t)("message.server.slots.updateTime"),"show-overflow-tooltip":""},null,8,["label"])]),_:1},8,["data"])),[[S,e.tableData.loading]]),l(h,{onSizeChange:D,onCurrentChange:w,class:"mt15","pager-count":5,"page-sizes":[50,100,200],"current-page":e.tableData.param.pageNum,"onUpdate:current-page":a[0]||(a[0]=n=>e.tableData.param.pageNum=n),background:"","page-size":e.tableData.param.pageSize,"onUpdate:page-size":a[1]||(a[1]=n=>e.tableData.param.pageSize=n),layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total},null,8,["current-page","page-size","total"])])])}}});const Z=I(H,[["__scopeId","data-v-359bf96e"]]);export{Z as default};
