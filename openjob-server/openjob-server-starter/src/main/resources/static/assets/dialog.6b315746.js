import{_ as Y}from"./preload-helper.101896b7.js";import{h as j,ap as ee,r as le,K as oe,a9 as m,j as p,k as _,D as l,x as o,l as C,B as c,C as f,u as r,F as g,Z as x,y as b,E as y,aE as ae,aF as te,v as P}from"./vue.bd0669ce.js";import{u as se}from"./vue-i18n.cjs.2a00fe88.js";import{a as re}from"./data.65169b13.js";import{a as ne}from"./index.88f3b739.js";import{_ as me}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.35101cd5.js";import"./index.510ba4c9.js";import"./request.c46845dc.js";import"./storage.b628b270.js";import"./index.d2f052aa.js";import"./index.aa7cec2e.js";import"./themeConfig.cb88f033.js";import"./index.f64fca3a.js";import"./index.e8f4f9cf.js";import"./index.ee56f1f7.js";import"./header.9390c1c5.js";const pe=h=>(ae("data-v-c1195218"),h=h(),te(),h),ue={class:"system-role-dialog-container"},de=pe(()=>C("br",null,null,-1)),ie={class:"dialog-footer"},ce=j({name:"systemRoleDialog"}),fe=j({...ce,emits:["refresh"],setup(h,{expose:U,emit:D}){const v=ee(()=>Y(()=>import("./monaco.6d4f7d9c.js").then(t=>t.a),["assets/monaco.6d4f7d9c.js","assets/preload-helper.101896b7.js","assets/vue.bd0669ce.js","assets/monaco.82344604.css"])),{t:n}=se(),L=ne(),V=le(),e=oe({rowState:{inputProcessor:!1,kettleProcessor:!1,httpProcessor:!1,shellProcessor:!1,shardingParams:!1,paramsProcessor:!1},syncEditor:!1,shellEditor:{editorStyle:"width: 95%;height: 260px;",language:"shell"},paramsEditor:{editorStyle:"width: 95%;height: 260px;"},paramsExtEditor:{editorStyle:"width: 95%;height: 120px;"},shellType:[{value:"unix",label:"unix"},{value:"windows",label:"windows"}],processorType:[{value:"processor",label:"processor"},{value:"shell",label:"shell"},{value:"kettle",label:"kettle"},{value:"http",label:"http"}],contentType:[{value:"plaintext",label:"plaintext"},{value:"json",label:"json"},{value:"yaml",label:"yaml"},{value:"properties",label:"properties"}],fromRules:{},appList:[],ruleForm:{id:0,appId:0,processorType:"java",processorInfo:"",shellProcessorInfo:"",shellProcessorType:"unix",kettleProcessorInfo:"",kettleProcessorType:"unix",paramsType:"text",executeType:"",params:"",extendParamsType:"text",extendParams:"",id:0,name:""},menuData:[],menuProps:{children:"children",label:"label"},dialog:{isShowDialog:!1,type:"",title:""}}),A=async t=>{var s;(s=V.value)==null||s.clearValidate(),await B(t),e.syncEditor=!0,await K(t),e.syncEditor=!1,t.processorType=="shell"?(e.paramsEditor.editorStyle="width: 95%;height: 60px;",e.paramsExtEditor.editorStyle="width: 95%;height: 60px;"):(e.paramsEditor.editorStyle="width: 95%;height: 260px;",e.paramsExtEditor.editorStyle="width: 95%;height: 120px;"),e.dialog.title=n("message.job.job.executeJobTitle"),e.dialog.isShowDialog=!0},B=async t=>{e.appList=await re(),e.ruleForm.appId=t.appId},k=()=>{e.dialog.isShowDialog=!1},M=()=>{k()},R=async t=>{!t||await t.validate(s=>{if(s)$();else return!1})},$=async()=>{await L.execute({id:e.ruleForm.id,params:e.ruleForm.params,extendParams:e.ruleForm.extendParams}),k(),D("refresh")},J=t=>{e.ruleForm.paramsType=t},z=t=>{e.ruleForm.extendParamsType=t},N=t=>{e.ruleForm.shellProcessorInfo=t},O=t=>{e.ruleForm.params=t},Q=t=>{e.ruleForm.extendParams=t},K=async t=>{e.rowState.inputProcessor=!1,e.rowState.shellProcessor=!1,e.rowState.kettleProcessor=!1,e.rowState.paramsProcessor=!1,e.rowState.httpProcessor=!1,e.rowState.shardingParams=!1,e.ruleForm.executeType=t.executeType,e.ruleForm.id=t.id,e.ruleForm.appId=t.appId,e.ruleForm.name=t.name,e.ruleForm.processorType=t.processorType,e.ruleForm.processorInfo=t.processorInfo;const s=t.processorType;s=="shell"?(e.rowState.shellProcessor=!0,e.ruleForm.shellProcessorInfo=t.shellProcessorInfo,e.ruleForm.shellProcessorType=t.shellProcessorType):s=="kettle"?(e.rowState.kettleProcessor=!0,e.ruleForm.kettleProcessorType=t.kettleProcessorType,e.ruleForm.kettleProcessorInfo=t.kettleProcessorInfo):s=="http"?e.rowState.httpProcessor=!0:t.executeType=="sharding"?(e.rowState.shardingParams=!0,e.ruleForm.params=t.params):(e.rowState.inputProcessor=!0,e.rowState.paramsProcessor=!0,e.ruleForm.paramsType=t.paramsType,e.ruleForm.params=t.params,e.ruleForm.extendParamsType=t.extendParamsType,e.ruleForm.extendParams=t.extendParams)};return U({openDialog:A}),(t,s)=>{const F=m("el-input"),u=m("el-form-item"),d=m("el-col"),i=m("el-row"),w=m("el-option"),E=m("el-select"),T=m("el-radio"),S=m("el-radio-group"),Z=m("ele-QuestionFilled"),q=m("el-icon"),G=m("el-tooltip"),H=m("el-form"),I=m("el-button"),W=m("el-dialog");return p(),_("div",ue,[l(W,{title:e.dialog.title,modelValue:e.dialog.isShowDialog,"onUpdate:modelValue":s[11]||(s[11]=a=>e.dialog.isShowDialog=a),width:"800"},{footer:o(()=>[C("span",ie,[l(I,{onClick:M,size:"default"},{default:o(()=>[c(f(r(n)("message.commonBtn.cancel")),1)]),_:1}),l(I,{type:"primary",onClick:s[10]||(s[10]=a=>R(V.value)),size:"default"},{default:o(()=>[c(f(r(n)("message.commonBtn.confirm")),1)]),_:1})])]),default:o(()=>[l(H,{ref_key:"appDialogFormRef",ref:V,model:e.ruleForm,"label-width":"110px",rules:e.fromRules,size:"default"},{default:o(()=>[l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.name"),prop:"name"},{default:o(()=>[l(F,{modelValue:e.ruleForm.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.ruleForm.name=a),clearable:"",disabled:""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(i,null,{default:o(()=>[l(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.application"),prop:"appId"},{default:o(()=>[l(E,{modelValue:e.ruleForm.appId,"onUpdate:modelValue":s[1]||(s[1]=a=>e.ruleForm.appId=a),class:"m-2",filterable:"",placeholder:r(n)("message.commonMsg.emptySelect"),style:{width:"100%"},disabled:""},{default:o(()=>[(p(!0),_(g,null,x(e.appList,a=>(p(),P(w,{key:a.id,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.processorType"),prop:"processorType"},{default:o(()=>[l(E,{modelValue:e.ruleForm.processorType,"onUpdate:modelValue":s[2]||(s[2]=a=>e.ruleForm.processorType=a),class:"m-2",placeholder:r(n)("message.commonMsg.emptySelect"),style:{width:"100%"},disabled:""},{default:o(()=>[(p(!0),_(g,null,x(e.processorType,a=>(p(),P(w,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.processorInfo"),prop:"processorInfo"},{default:o(()=>[l(F,{modelValue:e.ruleForm.processorInfo,"onUpdate:modelValue":s[3]||(s[3]=a=>e.ruleForm.processorInfo=a),disabled:""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[y,e.rowState.inputProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.kettleCommand"),prop:"kettleProcessorInfo"},{default:o(()=>[l(F,{modelValue:e.ruleForm.kettleProcessorInfo,"onUpdate:modelValue":s[4]||(s[4]=a=>e.ruleForm.kettleProcessorInfo=a),disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),l(S,{modelValue:e.ruleForm.kettleProcessorType,"onUpdate:modelValue":s[5]||(s[5]=a=>e.ruleForm.kettleProcessorType=a),style:{"margin-left":"110px"}},{default:o(()=>[(p(!0),_(g,null,x(e.shellType,a=>(p(),P(T,{key:a.value,label:a.label,disabled:""},{default:o(()=>[c(f(a.value),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},512),[[y,e.rowState.kettleProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.processorInfo"),prop:"shellProcessorInfo"},{default:o(()=>[l(r(v),{ref:"shellProcessorMonacoEditor",editorStyle:e.shellEditor.editorStyle,language:e.shellEditor.language,value:e.ruleForm.shellProcessorInfo,syncValue:e.syncEditor,readOnly:!0,onUpdateContent:N},null,8,["editorStyle","language","value","syncValue"])]),_:1},8,["label"]),l(S,{modelValue:e.ruleForm.shellProcessorType,"onUpdate:modelValue":s[6]||(s[6]=a=>e.ruleForm.shellProcessorType=a),style:{"margin-left":"110px"}},{default:o(()=>[(p(!0),_(g,null,x(e.shellType,a=>(p(),P(T,{key:a.value,label:a.label,disabled:""},{default:o(()=>[c(f(a.value),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},512),[[y,e.rowState.shellProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{prop:"shardingParams"},{label:o(()=>[c(f(t.$t("message.job.job.shardingParams"))+" ",1),l(G,{class:"box-item",effect:"dark",placement:"top"},{content:o(()=>[c(f(t.$t("message.job.job.shardingParamsLabel.one")),1),de,c(" "+f(t.$t("message.job.job.shardingParamsLabel.two")),1)]),default:o(()=>[l(q,{style:{"margin-top":"9px"}},{default:o(()=>[l(Z)]),_:1})]),_:1})]),default:o(()=>[l(F,{type:"textarea",rows:"3",modelValue:e.ruleForm.params,"onUpdate:modelValue":s[7]||(s[7]=a=>e.ruleForm.params=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[y,e.rowState.shardingParams]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.paramsType"),prop:"paramsType"},{default:o(()=>[l(S,{modelValue:e.ruleForm.paramsType,"onUpdate:modelValue":s[8]||(s[8]=a=>e.ruleForm.paramsType=a)},{default:o(()=>[(p(!0),_(g,null,x(e.contentType,a=>(p(),P(T,{key:a.value,label:a.label,onClick:X=>J(a.value)},{default:o(()=>[c(f(a.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[y,e.rowState.paramsProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.params"),prop:"params"},{default:o(()=>[l(r(v),{ref:"JobExecuteParamsMonacoEditor",editorStyle:e.paramsEditor.editorStyle,language:e.ruleForm.paramsType,value:e.ruleForm.params,syncValue:e.syncEditor,onUpdateContent:O},null,8,["editorStyle","language","value","syncValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[y,e.rowState.paramsProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.extendParamsType"),prop:"extendParamsType"},{default:o(()=>[l(S,{modelValue:e.ruleForm.extendParamsType,"onUpdate:modelValue":s[9]||(s[9]=a=>e.ruleForm.extendParamsType=a)},{default:o(()=>[(p(!0),_(g,null,x(e.contentType,a=>(p(),P(T,{key:a.value,label:a.label,onClick:X=>z(a.value)},{default:o(()=>[c(f(a.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[y,e.rowState.paramsProcessor]]),b(l(i,null,{default:o(()=>[l(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(u,{label:r(n)("message.job.job.extendParams"),prop:"extendParams"},{default:o(()=>[l(r(v),{ref:"JobExecuteExtParamsMonacoEditor",editorStyle:e.paramsExtEditor.editorStyle,language:e.ruleForm.extendParamsType,value:e.ruleForm.extendParams,syncValue:e.syncEditor,onUpdateContent:Q},null,8,["editorStyle","language","value","syncValue"])]),_:1},8,["label"])]),_:1})]),_:1},512),[[y,e.rowState.paramsProcessor]])]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});const Ce=me(fe,[["__scopeId","data-v-c1195218"]]);export{Ce as default};
