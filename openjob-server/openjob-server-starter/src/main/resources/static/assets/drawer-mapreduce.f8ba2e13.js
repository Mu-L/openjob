import{h as b,K as y,a9 as r,j as N,v as A,x as t,D as a,B as i,y as I,E as D,l as u}from"./vue.bd0669ce.js";import{u as v}from"./vue-i18n.cjs.2a00fe88.js";import{f as c}from"./data.fead2f89.js";import"./_commonjsHelpers.35101cd5.js";import"./index.f9fbbdc9.js";import"./request.554ad02f.js";import"./storage.b628b270.js";import"./index.23ad033a.js";import"./index.aa7cec2e.js";import"./themeConfig.cb88f033.js";import"./index.f64fca3a.js";import"./index.e8f4f9cf.js";import"./index.ee56f1f7.js";import"./header.9390c1c5.js";const x=u("div",null,[u("h4",null,"任务实例详情")],-1),j=b({name:"jobDrawerName"}),R=b({...j,setup(B,{expose:g}){v();const o=y({tabsValue:"base",pageShow:!1,drawer:{isShow:!1},descriptions:{column:6,workerAddress:"",createTime:"",completeTime:"",statusTag:"",statusLabel:"Default"}}),h=async e=>{o.descriptions.workerAddress=e.workerAddress,o.descriptions.createTime=e.createTime,o.descriptions.completeTime=e.completeTime,o.descriptions.statusTag=c(e.status).tag,o.descriptions.statusLabel=c(e.status).label,o.tabsValue="base",o.pageShow=!1,o.drawer.isShow=!0},_=e=>{if(e=="list"){o.pageShow=!0;return}o.pageShow=!1},f=[{id:3,workerAddress:"172.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"waiting",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0},{id:4,workerAddress:"172.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"success",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0}],k=(e,s,l)=>{if(e.id==3){l([{id:31,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41"}]);return}if(e.id==131){l([{id:311,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41"}]);return}l([{id:131,workerAddress:"192.20.0.253:25588",taskName:"wangxiaohu",taskStatus:"成功",createTIme:"2023-07-03 20:51:41",completeTime:"2023-07-03 20:51:41",hasChildren:!0}])},w=()=>{};return g({openDrawer:h}),(e,s)=>{const l=r("el-descriptions-item"),T=r("el-descriptions"),p=r("el-tab-pane"),d=r("el-table-column"),m=r("el-button"),C=r("el-table"),S=r("el-tabs"),z=r("el-pagination"),V=r("el-drawer");return N(),A(V,{modelValue:o.drawer.isShow,"onUpdate:modelValue":s[3]||(s[3]=n=>o.drawer.isShow=n),direction:"rtl",size:"50%",onClose:s[4]||(s[4]=n=>w())},{header:t(()=>[x]),default:t(()=>[a(S,{modelValue:o.tabsValue,"onUpdate:modelValue":s[0]||(s[0]=n=>o.tabsValue=n),type:"border-card",style:{"border-top":"none",height:"100%"},onTabChange:_},{default:t(()=>[a(p,{name:"base",label:"基本信息"},{default:t(()=>[a(T,{column:"1",border:""},{default:t(()=>[a(l,{label:"任务应用"},{default:t(()=>[i("openjob")]),_:1}),a(l,{label:"任务名称"},{default:t(()=>[i("kooriookami")]),_:1}),a(l,{label:"调度节点"},{default:t(()=>[i("kooriookami")]),_:1}),a(l,{label:"任务状态"},{default:t(()=>[i("成功")]),_:1}),a(l,{label:"创建时间"},{default:t(()=>[i("2023-07-03 20:51:38")]),_:1}),a(l,{label:"完成时间"},{default:t(()=>[i("2023-07-03 20:51:38")]),_:1})]),_:1})]),_:1}),a(p,{name:"list",label:"任务列表"},{default:t(()=>[a(C,{data:f,style:{width:"100%"},size:"default","row-key":"id",lazy:"",load:k,"show-header":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[a(d,{prop:"taskName",label:"taskName"}),a(d,{prop:"workerAddress",label:"workerAddress"}),a(d,{prop:"taskStatus",label:"taskStatus"}),a(d,{prop:"createTIme",label:"createTIme"}),a(d,{prop:"completeTime",label:"completeTime"}),a(d,{fixed:"right",label:"操作",width:"120"},{default:t(()=>[a(m,{link:"",type:"primary",size:"small",onClick:e.handleClick},{default:t(()=>[i(" 详情 ")]),_:1},8,["onClick"]),a(m,{link:"",type:"danger",size:"small"},{default:t(()=>[i(" 终止 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),footer:t(()=>[I(a(z,{"current-page":e.currentPage4,"onUpdate:current-page":s[1]||(s[1]=n=>e.currentPage4=n),"page-size":e.pageSize4,"onUpdate:page-size":s[2]||(s[2]=n=>e.pageSize4=n),"page-sizes":[100,200,300,400],small:e.small,disabled:e.disabled,background:"",layout:"total, sizes, prev, pager, next, jumper",total:400,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,style:{"margin-left":"12px","padding-bottom":"12px"}},null,8,["current-page","page-size","small","disabled","onSizeChange","onCurrentChange"]),[[D,o.pageShow]])]),_:1},8,["modelValue"])}}});export{R as default};
